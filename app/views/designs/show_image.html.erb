<!DOCTYPE html>
<html>
<head>
  <title>Architecture Generator Results</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-M4TLZ8N6CC"></script>
  <script defer data-domain="app.architecturehelper.com" src="https://plausible.io/js/script.js"></script>
  <script>
      !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys onSessionId".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
      posthog.init('phc_MltKSavY2s3FENOZhvocfU5qHx4f8xsJTAku0H0jVLH',{api_host:'https://app.posthog.com'})
  </script>
  <style>
    .container{
        padding: 10px 0;
        width: 75%;
        margin: auto;
    }

    .btn-primary{
        width: 25%;
        background-color: #0056b3;
        color: white;
        border-radius: 20px;
        padding: 10px 20px;
        font-size: 18px;
        text-align: center;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
        border: none;
        margin: 10px; /* Spacing between buttons */
    }

    .btn-primary:hover {
      background-color: #004080;
    }
    .btn-secondary {
      background-color: white;
      color: #0056b3; /* Adjust the color to match your theme */
      border: 2px solid #0056b3; /* Blue border */
      border-radius: 20px;
      padding: 10px 20px;
      font-size: 18px;
      text-align: center;
      transition: all 0.3s ease;
      margin: 10px
    }

    .btn-secondary:hover {
      background-color: #f0f0f0; /* Light grey for hover effect, adjust as needed */
      color: #003366; /* Darker blue for hover text */
      border-color: #003366; /* Darker blue for hover border */
    }
    .image-container {
        margin-bottom: 30px;
    }

    .img-fluid {
        max-width: 100%;
        height: auto;
        border-radius: 20px;
    }

    .button-group {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
    }

    .no-design-message {
        color: #ff0000;
        font-size: 1.2rem;
    }
    .modal {
        display: none;
        position: fixed;
        z-index: 1;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgb(0,0,0);
        background-color: rgba(0,0,0,0.4);
        padding-top: 60px;
    }

    .modal-content {
        background-color: #fefefe;
        margin: 5% auto;
        padding: 20px;
        border: 1px solid #888;
        width: 30%;
        position: relative;
    }

    .close {
      position: absolute;
      top: 10px;
      right: 10px;
      cursor: pointer;
      border: none; /* Remove border if any */
      background: none; /* Remove background styling if any */
      font-size: 24px; /* Icon size */
    }

    .share-icons {
      display: flex;
      justify-content: center; /* Center icons horizontally */
      align-items: center; /* Align icons vertically */
      flex-wrap: wrap; /* Prevent overflow by wrapping */
      gap: 10px; /* Spacing between icons */
    }

    .share-icons a {
      text-decoration: none;
      display: flex; /* Use flex for centering icon content */
      justify-content: center;
      align-items: center;
      width: 35px; /* Fixed width for circle */
      height: 35px; /* Fixed height for circle */
      border-radius: 50%; /* Circular border */
      border: 1px solid #ddd; /* Border color */
      color: #000; /* Icon color */
      margin: 0; /* Adjust margin as needed */
      font-size: 20px; /* Adjust font size as needed */
    }

    .share-icons a:hover {
      color: #0056b3; /* Highlight color on hover */
    }

    /* Style for the input field that holds the shareable link */
    #shareLink {
      padding: 5px;
      border: 1px solid #ddd;
      border-radius: 5px;
      width: calc(100% - 100px); /* Adjust width to make room for the button */
    }
    .close:hover,
    .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
    }
    .link-copy-area {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
        @media (max-width: 768px) {
      .btn-primary, .btn-secondary {
        width: 80%; /* Larger buttons for smaller screens */
        padding: 15px 20px; /* Bigger touch targets */
        font-size: 16px; /* Adjust font size */
      }

      .modal-content {
        width: 90%; /* Adjust modal width for smaller screens */
      }

      .img-fluid {
        max-width: 100%;
        height: auto;
      }
      .container{
        padding: 20px 0;
        width: 90%;
        margin: auto;
    }
    }
  </style>
</head>
<body>
<div class="container text-center">
  <% if @image_url.present? %>
    <div class="image-container my-8">
      <img src="<%= @image_url %>" alt="Generated Design" class="img-fluid">
    </div>
    <div class="button-group my-3">
      <button class="btn btn-primary" onclick="shareTool()">Share Tool</button>
      <button class="btn btn-primary" onclick="newDesign()">New Design</button>
    </div>
  <% else %>
    <p class="no-design-message">No design was generated. <button class="btn btn-primary" onclick="newDesign()">Try Again</button></p>
  <% end %>
</div>

<!-- Share Modal -->
<div class="modal" id="shareModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <div class="share-icons">
      <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fapp.architecturehelper.com&quote=Check%20out%20this%20awesome%20Architecture%20tool%20for%20analyzing%20real%20buildings%20and%20generating%20new%20ones%20with%20AI!" target="_blank" title="Facebook"><i class="fab fa-facebook-f"></i></a>
      <a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fapp.architecturehelper.com&description=Check%20out%20this%20awesome%20Architecture%20tool%20for%20analyzing%20real%20buildings%20and%20generating%20new%20ones%20with%20AI!" target="_blank" title="Pinterest"><i class="fab fa-pinterest-p"></i></a>
      <a href="https://reddit.com/submit?url=https%3A%2F%2Fapp.architecturehelper.com&title=Check%20out%20this%20awesome%20Architecture%20tool%20for%20analyzing%20real%20buildings%20and%20generating%20new%20ones%20with%20AI!" target="_blank" title="Reddit"><i class="fab fa-reddit-alien"></i></a>
      <a href="https://twitter.com/intent/tweet?text=Check%20out%20this%20awesome%20Architecture%20tool%20for%20analyzing%20real%20buildings%20and%20generating%20new%20ones%20with%20AI!&url=https%3A%2F%2Fapp.architecturehelper.com" target="_blank" title="Twitter"><i class="fab fa-twitter"></i></a>
    </div>
    <div class="link-copy-area">
      <input type="text" value="app.architecturehelper.com" id="shareLink" readonly>
      <button class="btn btn-primary" onclick="copyLink()">Copy</button>
    </div>
  </div>
</div>


<script>
  function shareTool() {
    var modal = document.getElementById("shareModal");
    modal.style.display = "block";
  }

  function closeModal() {
    var modal = document.getElementById("shareModal");
    modal.style.display = "none";
  }

  function copyLink() {
    var link = document.getElementById("shareLink").value;
    navigator.clipboard.writeText(link).then(() => {
      alert("Link copied to clipboard!");
    }).catch(err => {
      console.error('Error copying text: ', err);
    });
  }

  window.onclick = function(event) {
    var modal = document.getElementById("shareModal");
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }
</script>
</body>
</html>